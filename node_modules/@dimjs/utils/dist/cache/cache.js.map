{"version":3,"file":"cache.js","sources":["@dimjs/utils/src/cache/cache.ts"],"sourcesContent":["/**\n * @description\n * We can create an cache seed instance.\n *\n * @example\n * ``` ts\n * const pluginCache = cache('plugin');\n * pluginCache();\n * // => plugin2\n * ```\n *\n * @param prefix the cache group name.\n * @param start The number that seed id start at\n *\n * @docsCategory preference/utils/cache\n * @codeFilter cache\n */\nexport const cache = (\n  prefix = 'cache_unique_',\n  start: (() => number) | number = 1\n) => {\n  // start with 1\n  const uniqueMap = {};\n  return () => {\n    if (!uniqueMap[prefix]) {\n      uniqueMap[prefix] = typeof start === 'function' ? start() : start;\n    }\n    return `${prefix}${++uniqueMap[prefix]}`;\n  };\n};\n"],"names":["cache","prefix","arguments","length","undefined","start","uniqueMap","concat"],"mappings":";IAiBaA,EAAQ,SAARA,IAGR,IAFHC,EAAMC,UAAAC,OAAA,GAAAD,UAAA,KAAAE,UAAAF,UAAA,GAAG,gBAAe,IACxBG,EAA8BH,UAAAC,OAAA,GAAAD,UAAA,KAAAE,UAAAF,UAAA,GAAG,EAGjC,IAAMI,EAAY,CAAE,EACpB,OAAO,WACL,IAAKA,EAAUL,GAAS,CACtBK,EAAUL,UAAiBI,IAAU,WAAaA,IAAUA,CAC9D,CACA,MAAAE,GAAAA,OAAUN,GAAMM,SAAKD,EAAUL,GAChC,CACH"}