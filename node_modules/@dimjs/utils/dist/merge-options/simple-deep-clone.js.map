{"version":3,"file":"simple-deep-clone.js","sources":["@dimjs/utils/src/merge-options/simple-deep-clone.ts"],"sourcesContent":["/**\n * Simple object check.\n * From https://stackoverflow.com/a/34749873/772859\n *\n * @docsCategory preference/utils/merge-options\n * @docsPage types-simple-deep-clone\n */\nexport function isObject(item: any): item is object {\n  return item && typeof item === 'object' && !Array.isArray(item);\n}\n\n/**\n * @docsCategory preference/utils/merge-options\n * @docsPage types-simple-deep-clone\n */\nexport function isClassInstance(item: any): boolean {\n  // Even if item is an object, it might not have a constructor as in the\n  // case when it is a null-prototype object, i.e. created using `Object.create(null)`.\n  return (\n    isObject(item) && item.constructor && item.constructor.name !== 'Object'\n  );\n}\n/**\n * @description\n * An extremely fast function for deep-cloning an object which only contains simple\n * values, i.e. primitives, arrays and nested simple objects.\n *\n * @docsCategory preference/utils/merge-options\n * @codeFilter simple-deep-clone\n */\nexport function simpleDeepClone<T extends string | number | any[] | object>(\n  input: T\n): T {\n  // if not array or object or is null return self\n  if (typeof input !== 'object' || input === null) {\n    return input;\n  }\n  let output: any;\n  let i: number | string;\n  // handle case: array\n  if (input instanceof Array) {\n    let l;\n    output = [] as any[];\n    for (i = 0, l = input.length; i < l; i++) {\n      output[i] = simpleDeepClone(input[i]);\n    }\n    return output;\n  }\n  if (isClassInstance(input)) {\n    return input;\n  }\n  // handle case: object\n  output = {};\n  for (i in input) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (input.hasOwnProperty(i)) {\n      output[i] = simpleDeepClone((input as any)[i]);\n    }\n  }\n  return output;\n}\n"],"names":["isObject","item","_typeof","Array","isArray","isClassInstance","constructor","name","simpleDeepClone","input","output","i","l","length","hasOwnProperty"],"mappings":";6DAOO,SAASA,EAASC,GACvB,OAAOA,GAAQC,EAAOD,KAAS,WAAaE,MAAMC,QAAQH,EAC5D,CAMO,SAASI,EAAgBJ,GAG9B,OACED,EAASC,IAASA,EAAKK,aAAeL,EAAKK,YAAYC,OAAS,QAEpE,CASO,SAASC,EACdC,GAGA,GAAIP,EAAOO,KAAU,UAAYA,IAAU,KAAM,CAC/C,OAAOA,CACT,CACA,IAAIC,EACJ,IAAIC,EAEJ,GAAIF,aAAiBN,MAAO,CAC1B,IAAIS,EACJF,EAAS,GACT,IAAKC,EAAI,EAAGC,EAAIH,EAAMI,OAAQF,EAAIC,EAAGD,IAAK,CACxCD,EAAOC,GAAKH,EAAgBC,EAAME,GACpC,CACA,OAAOD,CACT,CACA,GAAIL,EAAgBI,GAAQ,CAC1B,OAAOA,CACT,CAEAC,EAAS,CAAE,EACX,IAAKC,KAAKF,EAAO,CAEf,GAAIA,EAAMK,eAAeH,GAAI,CAC3BD,EAAOC,GAAKH,EAAiBC,EAAcE,GAC7C,CACF,CACA,OAAOD,CACT"}