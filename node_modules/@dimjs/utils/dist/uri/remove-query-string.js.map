{"version":3,"file":"remove-query-string.js","sources":["@dimjs/utils/src/uri/remove-query-string.ts"],"sourcesContent":["import { isStandardBrowserEnv } from '@dimjs/lang';\nimport { paramStrToJson } from './param-str-to-json.js';\nimport { toQueryString } from './to-query-string.js';\n\nconst HASH_REGEX = /#(\\/)?.*/;\n\n/**\n * @description\n * Removes a query string parameter from a URL.\n *\n * @param url - The URL from which to remove the query string parameter.\n * @param key - The key of the query string parameter to remove.\n * @returns The modified URL with the specified query string parameter removed.\n *\n * @docsCategory preference/utils/uri\n * @codeFilter remove-query-string\n */\nexport const removeQueryString = (url: string, key: string) => {\n  url = url || (isStandardBrowserEnv() ? window.location.href : '');\n  const existedParams = paramStrToJson(url);\n  const existedHash = HASH_REGEX.exec(url);\n  delete existedParams[key];\n  const rootUrl = (existedHash ? url.replace(HASH_REGEX, '') : url).split(\n    '?'\n  )[0];\n  const querystr = toQueryString(existedParams);\n  const newUrl = !querystr\n    ? `${rootUrl}`\n    : `${rootUrl}?${toQueryString(existedParams)}`;\n  return `${newUrl}${existedHash ? existedHash[0] : ''}`;\n};\n"],"names":["HASH_REGEX","removeQueryString","url","key","_isStandardBrowserEnv","window","location","href","existedParams","paramStrToJson","existedHash","exec","rootUrl","replace","split","querystr","toQueryString","newUrl","concat"],"mappings":";+SAIA,IAAMA,EAAa,WAaZ,IAAMC,EAAoB,SAApBA,EAAqBC,EAAaC,GAC7CD,EAAMA,IAAQE,IAAyBC,OAAOC,SAASC,KAAO,IAC9D,IAAMC,EAAgBC,EAAeP,GACrC,IAAMQ,EAAcV,EAAWW,KAAKT,UAC7BM,EAAcL,GACrB,IAAMS,GAAWF,EAAcR,EAAIW,QAAQb,EAAY,IAAME,GAAKY,MAChE,KACA,GACF,IAAMC,EAAWC,EAAcR,GAC/B,IAAMS,GAAUF,EAAQG,GAAAA,OACjBN,GAAO,GAAAM,OACPN,OAAOM,OAAIF,EAAcR,IAChC,MAAA,GAAAU,OAAUD,GAAMC,OAAGR,EAAcA,EAAY,GAAK,GACpD"}