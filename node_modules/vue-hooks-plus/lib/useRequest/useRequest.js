"use strict";
Object.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: "Module" } });
const useAutoRunPlugin = require("./plugins/useAutoRunPlugin");
const useCachePlugin = require("./plugins/useCachePlugin");
const useDebouncePlugin = require("./plugins/useDebouncePlugin");
const useDevtoolsPlugin = require("./plugins/useDevtoolsPlugin");
const useLoadingDelayPlugin = require("./plugins/useLoadingDelayPlugin");
const usePollingPlugin = require("./plugins/usePollingPlugin");
const useRefreshOnWindowFocusPlugin = require("./plugins/useRefreshOnWindowFocusPlugin");
const useRetryPlugin = require("./plugins/useRetryPlugin");
const useThrottlePlugin = require("./plugins/useThrottlePlugin");
const useRequestImplement = require("./useRequestImplement");
const resolveArgs = require("./utils/resolve-args");
const _interopDefaultLegacy = (e) => e && typeof e === "object" && "default" in e ? e : { default: e };
const useAutoRunPlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useAutoRunPlugin);
const useCachePlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useCachePlugin);
const useDebouncePlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useDebouncePlugin);
const useDevtoolsPlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useDevtoolsPlugin);
const useLoadingDelayPlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useLoadingDelayPlugin);
const usePollingPlugin__default = /* @__PURE__ */ _interopDefaultLegacy(usePollingPlugin);
const useRefreshOnWindowFocusPlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useRefreshOnWindowFocusPlugin);
const useRetryPlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useRetryPlugin);
const useThrottlePlugin__default = /* @__PURE__ */ _interopDefaultLegacy(useThrottlePlugin);
const useRequestImplement__default = /* @__PURE__ */ _interopDefaultLegacy(useRequestImplement);
function useRequest(service, options, plugins) {
  var _a;
  const BuiltInPlugins = (_a = [
    process.env.NODE_ENV === "development" ? useDevtoolsPlugin__default.default : null,
    useDebouncePlugin__default.default,
    useLoadingDelayPlugin__default.default,
    usePollingPlugin__default.default,
    useRefreshOnWindowFocusPlugin__default.default,
    useThrottlePlugin__default.default,
    useAutoRunPlugin__default.default,
    useCachePlugin__default.default,
    useRetryPlugin__default.default
  ]) == null ? void 0 : _a.filter(Boolean);
  return resolveArgs.withArgs(useRequestImplement__default.default, options == null ? void 0 : options.use)(
    service,
    options,
    [...plugins || [], ...BuiltInPlugins]
  );
}
exports.default = useRequest;
exports.useRequest = useRequest;
